<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WW-companyIntroduce-carousel</title>
    <link rel="stylesheet" type="text/css"
          href="http://style.org.hc360.com/css/detail/mysite/siteconfig/newPro/proStyle.css"/>
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
    <style>
        .carousell {
            position: relative;
            height: 149px;
            overflow: hidden;
        }
        .carousell .SLR-companyImgContent {
            position: absolute;
        }
        .carousell .SLR-companyImgContent img {
            width: 135px;
            height: 135px;
        }
        .carousell .SLR-companyImgContent:after {
            content: ' ';
            display: block;
            clear: both;
        }
        .carousell .SLR-companyImgContent li {
            float: left;
        }
    </style>
</head>
<body>
<div class="proBox75Rig">
    <div class="columnbox">
        <div class="Box25LeftTit"><h4>公司概况</h4></div>
        <div class="introBox">
            <div class="rigTabTit">
                <dl>
                    <dd class="TabTitCur">公司档案</dd>
                    <dd>公司专题</dd>
                </dl>
            </div>
            <div class="conpanyBox">
                <p>
                    欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。欢迎各界朋友参观、指导和业务洽谈。</p>
                <div class="conpanyImg carousell">
                    <ul class="SLR-companyImgContent">
                        <li><a href="#"><img
                                src="http://style.org.hc360.com/images/detail/mysite/siteconfig/newPro/img4.png"></a>
                        </li>
                        <li><a href="#"><img
                                src="http://style.org.hc360.com/images/detail/mysite/siteconfig/newPro/img4.png"></a>
                        </li>
                        <li><a href="#"><img
                                src="http://style.org.hc360.com/images/detail/mysite/siteconfig/newPro/img4.png"></a>
                        </li>
                        <li><a href="#"><img
                                src="http://style.org.hc360.com/images/detail/mysite/siteconfig/newPro/img4.png"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.onready = (function () {
        (function ($, document, window, undefined) {

            var $imgContent = $('.SLR-companyImgContent');
            var $liItems = $imgContent.children();
            var curIdx = 0;
            var imgWidth = $liItems.width();
            var imgCount = $imgContent.children().length;
            if(imgCount=== 1){
                return
            };
            var isAnimate = false;
            var $carousel = $('div.carousell');
            $carousel.css('width',((imgCount * imgWidth)+(14)));
            for (var i = 0; i < $liItems.length; i++) {
                (function () {
                    $liItems.eq(i).attr('data-id',i);
                })()
            };
            $imgContent.prepend($liItems.last().clone());
            for (var i =0;i<imgCount;i++){
                (function () {
                    $imgContent.append($liItems.first().clone());
                })()
            }
            imgRealCount = $imgContent.children().length;//imgCount + 2;
            $imgContent.css({
                left: 0 - (imgWidth + 28),
                width: imgRealCount * imgWidth + ( (28)* (imgRealCount-1) )
            })
            autoPlay();
            function autoPlay() {
                clock = setInterval(function() {
                    playNext();
                },1000);
            };
            function playNext(idx) {
                var idx = idx || 1;
                if(!isAnimate) {
                    isAnimate = true;
                    $imgContent.animate({
                        left: '-='  + ( (imgWidth * idx) + 14 )
                    }, function() {
                        curIdx = (curIdx + idx) % imgCount;
                        if(curIdx === 0) {
                            $imgContent.css({
                                left: 0 - (imgWidth + 28)
                            });
                            curIdx = 0;
                        }
                        isAnimate = false;
                        console.log('www');
                    });
                }
            };
        })(jQuery, document, window)
    })
</script>
</body>
</html>